---
import Layout from "../layouts/Layout.astro";
import PageHeader from "../components/ui/PageHeader.astro";
import ContentReveal from "../components/ui/ContentReveal.astro";
import TagList from "../components/ui/TagList.astro";
import { getCollection } from "astro:content";

const projects = await getCollection("projects");
const projectsByCategory = projects.reduce(
  (acc, project) => {
    const category = project.data.category;
    if (!acc[category]) {
      acc[category] = [];
    }
    acc[category].push(project);
    return acc;
  },
  {} as Record<string, typeof projects>
);

const categories = Object.keys(projectsByCategory);
---

<Layout title="Projects">
  <ContentReveal id="projectsContent" class="content">
    <PageHeader
      title="Projects"
      subtitle="A (very WIP) collection of things I've built, am building or planning to build"
      titleClass="title-gradient"
    />

    <div class="sections animate-content-medium">
      {
        categories.map((category, categoryIndex) => (
          <div class="section animate-slideup" style={`animation-delay: ${0.8 + categoryIndex * 0.2}s`}>
            <h2 class="section-title animate-title-delayed">{category}</h2>
            <div class="posts-list">
              {projectsByCategory[category].map((project, projectIndex) => (
                <article
                  class="post-item animate-content-fast"
                  style={`--post-color: ${project.data.color}; animation-delay: ${1.2 + categoryIndex * 0.2 + projectIndex * 0.1}s`}
                  data-category={category.toLowerCase()}
                  data-title={project.data.title.toLowerCase()}
                  data-description={project.data.description.toLowerCase()}
                >
                  <a href={`/projects/${project.slug}`} class="item-link">
                    <div
                      class="item-star"
                      style={`background-color: ${project.data.color}`}
                    >
                      â˜…
                    </div>
                    <div class="item-content">
                      <div class="item-header">
                        <h3 class="item-title">{project.data.title}</h3>
                        <span
                          class={`status-badge status-${project.data.status}`}
                        >
                          {project.data.status === "in-progress"
                            ? "In Progress"
                            : project.data.status === "completed"
                              ? "Completed"
                              : "Planning"}
                        </span>
                      </div>
                      <p class="item-description">{project.data.description}</p>
                      <TagList
                        tags={project.data.technologies}
                        class="project-technologies"
                      />
                    </div>
                  </a>
                </article>
              ))}
            </div>
          </div>
        ))
      }
      <div class="section">
        <h2 class="section-title animate-title-delayed">projects rant</h2>
        <p>i started coding in middle school ~2007 with myspace HTML+CSS layouts, if you could call it that. i went on to learn in class in high school, and took it from there on my own. i competed in coding & game-making competitions, founded multiple clubs, taught & tutored, participated in & managed hackathons, even made a lot of spreadsheets to min-max video games with my guilds.</p>
        <p>i have all sorts of projects tucked away on hard drives, online repos, long forgotten websites, or in forever lost videos & streams. i also did a lot of work through my enterprise consulting jobs, most of which is not saved to share and half of which was less creative, architecture & operations type of stuff. I frankly spent a lot of my other time minmaxing my life for fun, friends, events, random life adventures, and lots of games--most of which i'm honestly proud of and grateful for.</p>
        <p>i've always had a hyperactive imagination since as long as i can remember, filling notebooks with ideas of games, mods, apps, systems, educational & societal changes--a lot emerging nowadays, like particular kinds of online learning paradigms, new voting systems like liquid voting, AI for graphic & idea generation, AI for driving, and more. maybe because of video games, my deep interest in history & fantasy, and parents encouraging my expression.</p>
        <p>i do woe about the overwhelming number of ideas i never manifested. it was never a high priority for me, for whatever reasons. i had lots of opportunities early, from minecraft mods & servers to bitcoin to Big Tech jobs to game industry jobs to web3 industry jobs. i worked local, and was near friends and girlfriends. i was happy. i did also spend a very high number of hours learning & deeply researching all things related to geopolitics, from 2008 era onward, out of a since-9/11 concern of what wild world i'm growing up in??</p>
        <p>tl;dr i want to craft, i want to be a positive influence in the world, and i want to enjoy my short life. meanwhile, ill keep improving & doing my best.</p>
        <p><strong>my goals right now</strong> are (1) to increase cash-flow through ever-better client work and digital sales (LOOKING FOR SMALL CONTRACT DEVS), (2) prototype apps to the point where i can pay engineers & co-create a better-built version for growth (LOOKING FOR CO-CREATORS), (3) scale up helping small businesses with student developers alongside a business partner (LOOKING).</p>
        <p>:)</p>
      </div>
    </div>
  </ContentReveal>
</Layout>
